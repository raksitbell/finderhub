# บันทึกการเปลี่ยนแปลง (Changelog)

การเปลี่ยนแปลงที่สำคัญทั้งหมดในโปรเจกต์นี้จะถูกบันทึกไว้ในไฟล์นี้

รูปแบบอ้างอิงจาก [Keep a Changelog](https://keepachangelog.com/en/1.0.0/)
และโปรเจกต์นี้ยึดตาม [Semantic Versioning](https://semver.org/spec/v2.0.0.html)

## [2.1.1] - 2025-11-24

### เปลี่ยนแปลง (Changed)

- **Image Optimization**: ปรับปรุงตัวแปลงรูปภาพเพื่อให้แน่ใจว่ามีการแปลงเป็น WebP อย่างมีประสิทธิภาพก่อนอัปโหลด

### แก้ไข (Fixed)

- **Double Upload**: แก้ไขข้อผิดพลาดที่รูปภาพถูกอัปโหลดสองครั้ง (ต้นฉบับและ WebP) ตอนนี้จะเก็บเฉพาะเวอร์ชัน WebP ที่ปรับปรุงแล้วเท่านั้น
- **Dev Server Locks**: แก้ไขปัญหา "Unable to acquire lock" ที่เกิดขึ้นซ้ำๆ ซึ่งป้องกันไม่ให้เซิร์ฟเวอร์เริ่มทำงาน
- **Accessibility**: เพิ่มส่วนประกอบ `DialogDescription` ที่ขาดหายไปใน `AddItemModal`, `ItemModal`, `AdminItemModal`, และ `ClaimItemModal` เพื่อแก้ไขคำเตือนการเข้าถึง (Accessibility)
- **Source Maps**: แก้ไขคำเตือน source map ที่เกี่ยวข้องกับ Preline UI ในคอนโซลการพัฒนา

## [2.1.0] - 2025-11-23

### เพิ่มเติม (Added)

- **Deferred Image Upload**: รูปภาพจะแสดงตัวอย่างในเครื่องโดยใช้ Object URLs และจะถูกอัปโหลดไปยัง Supabase เมื่อผู้ใช้ยืนยันการเพิ่มเท่านั้น
- **Instant Preview**: แสดงตัวอย่างทันทีเมื่อเลือกไฟล์รูปภาพในขั้นตอนการเพิ่มรายการ
- **Dev Script**: เพิ่มคำสั่ง `npm run dev:clean` เพื่อปิด zombie processes และลบไฟล์ lock ของ Next.js ที่ค้างอยู่โดยอัตโนมัติ
- **Loading States**: เพิ่มการแสดงสถานะการโหลด (spinners) ในระหว่างขั้นตอนการอัปโหลดและเผยแพร่

### เปลี่ยนแปลง (Changed)

- **Admin Dashboard**: ปรับปรุงการออกแบบสำหรับอุปกรณ์มือถือ โดยเปลี่ยนเป็นมุมมองแบบการ์ดเพื่อการใช้งานที่ดีขึ้น
- **Documentation**: อัปเดต `README.md` และ `docs/DEVELOPMENT.th.md` เพื่อสะท้อนถึงขั้นตอนการจัดการรูปภาพใหม่และสคริปต์สำหรับการพัฒนา

## [2.0.0] - 2025-11-22

### เพิ่มเติม (Added)

- **Project Restructure**: ปรับโครงสร้างโค้ดครั้งใหญ่เพื่อรองรับการขยายตัวในอนาคต
- **Documentation**: อัปเดตคู่มือการพัฒนาและเอกสาร API อย่างครอบคลุม

## [1.0.0] - 2025-11-20

### เพิ่มเติม (Added)

- **Public Gallery**: หน้าแรกสาธารณะแสดงตารางรายการของหายพร้อมระบบค้นหาและกรอง
- **Admin Dashboard**: เส้นทางที่ได้รับการป้องกันสำหรับผู้ดูแลระบบเพื่อจัดการสินค้าคงคลัง (เพิ่ม, แก้ไข, ลบ, คืน)
- **Authentication**: ระบบล็อกอินที่ปลอดภัยโดยใช้ Supabase Auth
- **Item Management**: การจัดการรายการของหายแบบ CRUD เต็มรูปแบบ
- **Image Upload**: การเชื่อมต่อกับ Supabase Storage สำหรับรูปภาพสินค้า
- **Responsive UI**: อินเทอร์เฟซที่ทันสมัยและตอบสนองได้ดี สร้างด้วย Tailwind CSS และ Shadcn UI
- **Supabase Integration**: คลาส `DataManager` สำหรับจัดการการเชื่อมต่อฐานข้อมูล
